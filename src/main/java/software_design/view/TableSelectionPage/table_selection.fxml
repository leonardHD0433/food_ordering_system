<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.GridPane?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.shape.Rectangle?>
<?import javafx.geometry.Insets?>

<BorderPane xmlns="http://javafx.com/javafx/8.0.171" xmlns:fx="http://javafx.com/fxml/1" fx:controller="software_design.controller.TableSelectionController">
    <!-- Header section - thin rectangle with admin button and title -->
    <top>
        <StackPane style="-fx-background-color: #F0F0F0; -fx-border-color: #CCCCCC; -fx-border-width: 0 0 1 0;">
            <padding>
                <Insets top="10" bottom="10" left="15" right="15"/>
            </padding>
            
            <HBox alignment="CENTER" spacing="20">
                <!-- Left-aligned admin button -->
                <HBox alignment="CENTER_LEFT" HBox.hgrow="ALWAYS">
                    <Button fx:id="adminButton" 
                            text="Admin Panel" 
                            onAction="#handleSwitchAdmin"
                            style="-fx-background-color: #E0E0E0;
                                -fx-border-color: #808080;
                                -fx-border-width: 1px;
                                -fx-border-radius: 5px;
                                -fx-background-radius: 5px;
                                -fx-font-size: 14px;
                                -fx-padding: 5 10 5 10;"/>
                </HBox>
                
                <!-- Center-aligned title -->
                <HBox alignment="CENTER" HBox.hgrow="ALWAYS">
                    <Label text="F . O . S" 
                          style="-fx-font-weight: bold; -fx-font-size: 28px;"/>
                        <HBox.margin>
                            <Insets right="100.0"/>
                        </HBox.margin>
                </HBox>
                
                <!-- Empty space to balance the layout -->
                <HBox alignment="CENTER_RIGHT" HBox.hgrow="ALWAYS"/>
            </HBox>
        </StackPane>
    </top>
    
    <!-- Main content - restaurant map -->
    <center>
        <VBox alignment="CENTER" spacing="10">
            <padding>
                <Insets top="15" bottom="15" left="15" right="15"/>
            </padding>
            
            <!-- Table map title -->
            <Label text="Restaurant Floor Plan" 
                   style="-fx-font-size: 18px; -fx-font-weight: bold;"/>
            
            <!-- Table map grid - takes most of the space -->
            <GridPane fx:id="tableMapGrid" 
                      alignment="CENTER" 
                      hgap="15" 
                      vgap="15" 
                      style="-fx-padding: 20; -fx-background-color: #F8F8F8; -fx-border-color: #DDDDDD; -fx-border-width: 1px; -fx-border-radius: 5px;"
                      VBox.vgrow="ALWAYS">
                <!-- The TableSelectionView will populate this with table visuals -->
            </GridPane>
            
            <!-- Table status legend -->
            <HBox alignment="CENTER" spacing="20">
                <HBox alignment="CENTER" spacing="5">
                    <Rectangle width="15" height="15" fill="LIGHTGRAY" stroke="DARKGRAY"/>
                    <Label text="Available" style="-fx-font-size: 12px;"/>
                </HBox>
                <HBox alignment="CENTER" spacing="5">
                    <Rectangle width="15" height="15" fill="LIGHTGREEN" stroke="DARKGRAY"/>
                    <Label text="In Use" style="-fx-font-size: 12px;"/>
                </HBox>
            </HBox>
            
            <!-- Error message alert -->
            <Label fx:id="alert" 
                   visible="false"
                   style="-fx-font-size: 16px; -fx-text-fill: red;"
                   styleClass="error-label"
                   wrapText="true"
                   alignment="CENTER"/>
        </VBox>
    </center>
</BorderPane>